/* Enemy Component - Clean implementation */

/* Container */
.enemy-container {
  position: relative;
  backface-visibility: hidden;
  will-change: transform;
  contain: layout paint size;
}

/* État: en train de se faire toucher */
.enemy-container.being-hit {
  animation: enemy-shake 0.4s ease-in-out;
}

/* État: mort */
.enemy-container.dead {
  animation: enemy-death 0.8s ease-out forwards;
}

/* Animations du container */
@keyframes enemy-shake {
  0%, 100% { transform: translateX(0) translateZ(0); }
  25% { transform: translateX(8px) translateZ(0); }
  50% { transform: translateX(-8px) translateZ(0); }
  75% { transform: translateX(8px) translateZ(0); }
}

@keyframes enemy-death {
  0% {
    transform: translateX(0) scale(1) translateZ(0);
    opacity: 1;
  }
  100% {
    transform: translateX(60px) scale(0.5) translateZ(0);
    opacity: 0;
  }
}

/* Sprite base */
.enemy-sprite {
  width: 100%;
  height: 100%;
  background-repeat: no-repeat;
  image-rendering: pixelated;
  transform: scaleX(-1) translateZ(0); /* Flip horizontal pour regarder à gauche */
  backface-visibility: hidden;
  will-change: background-position;
  contain: layout paint;
}

/* Animations des sprites */
.sprite-walk {
  background-image: url('/assets/boar/Walk-Sheet.png');
  background-size: 576px 64px; /* 6 frames × 96px */
  animation: sprite-anim-walk 700ms steps(6) infinite;
}

.sprite-idle {
  background-image: url('/assets/boar/Idle-Sheet.png');
  background-size: 576px 64px; /* 6 frames × 96px */
  animation: sprite-anim-idle 900ms steps(6) infinite;
}

.sprite-hit {
  background-image: url('/assets/boar/Hit-Sheet.png');
  background-size: 384px 64px; /* 4 frames × 96px */
  animation: sprite-anim-hit 600ms steps(4) forwards;
}

/* Keyframes des sprites - IMPORTANT: utiliser pixels exacts */
@keyframes sprite-anim-walk {
  from { background-position-x: 0px; }
  to { background-position-x: -576px; }
}

@keyframes sprite-anim-idle {
  from { background-position-x: 0px; }
  to { background-position-x: -576px; }
}

@keyframes sprite-anim-hit {
  from { background-position-x: 0px; }
  to { background-position-x: -384px; }
}

/* Barre de vie - animation smooth */
.enemy-hp-bar {
  transition: opacity 0.3s ease-in-out;
}

/* Niveau - animation d'apparition */
.enemy-level {
  animation: fade-scale-in 0.3s ease-out;
}

@keyframes fade-scale-in {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
